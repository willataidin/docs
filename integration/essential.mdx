---
title: 'Essential Integrations'
description: ''
---

The integrations required to make Aidin functional are the following: 

* User authentication and provisioning (Single Sign On)  
* EHR launch button  
* An ADT feed  
* One or more non-FHIR document retrieval configurations  
* Outbound analytics data 

Aidin can be successfully integrated and used without FHIR-based integrations. Integrating via FHIR and HL7 MDM options allow more control over the user’s workflow and more data to be sent back to the EHR, but should be considered adjacent to Aidin’s primary functionality.

### **Authentication and Access Control**

Your care managers log into Aidin using your own user identity and authentication system, generally called an Identity Provider (IdP) through a process called Single Sign On (SSO). Microsoft Entra and Shibboleth are common IdPs that implement SSO protocols.  

Some healthcare systems own and operate post-acute care providers that will also need to login through SSO.  If this is the case at your organization, please highlight this with the Aidin integration team.

In order to support seamless login from both the Aidin website and your EHR system more than one identity integration is sometimes required. Your IdP must be capable of implementing the SAML 2.0 protocol.  Aidin does not support OpenID Connect (OIDC).

SAML 2.0 SSO is set up through an exchange of metadata. Once the teams have exchanged that metadata, your IdP must be configured to pass “claims” to Aidin for each user. These claims tell Aidin which campuses the user has access to, and what role in the Aidin system the user should have.

Aidin strongly recommends, but does not require, that your users are identified by a unique email during the login process. Without an email address some of Aidin’s features will not be available including direct login from the Aidin login page.  Your SAML claims should also include a stable user identifier from your EHR, other than the email address, so that email address changes can be seamlessly supported. This identifier can also be used for user attribution for bi-directional MDM and FHIR workflows. Finally, Aidin can associate one or more email domains with each IdP. The domain is used to support login from the Aidin login page.  Without domains configured for your users only “Launch button” SSO is supported. 

#### **Aidin User Roles**

All Aidin users fall into one of three categories:

* Sender  
* Receiver  
* Both

Hospital System users are typically senders because they are generating and sending referrals to post acute providers. PAC users are generally receivers, because they are receiving referrals from senders. In most cases, receivers use of the application falls under a different commercial agreement than your health system users – receivers are often small businesses in your referral network.

Aidin is capable of supporting users who are both senders and receivers, as some large systems use Aidin to send and receive referrals within their own network, but for the purposes of this document we will consider the following sender roles only:

* Read-only user: someone who is monitoring Aidin sending workflows, but not able to create and send referrals.   
* Standard user: a role with no elevated permissions who can participate in Aidin sending workflows.  
* Administrative user: a role with elevated permissions who is responsible for managing other team members in the application.  
* Reporting user: a role that allows the user to view reporting in the application.

The first three of the above roles are mutually exclusive — if a user is read-only, they cannot also be an Aidin admin. The reporting role can be granted to someone with any of the first three roles.

#### **Auto-provisioning Users**

To simplify set up, Aidin strongly recommends that Aidin is configured to “auto-provision” your users in Aidin. Auto-provisioning users allows decisions about who can access Aidin to be an internal conversation within your organization, removing extra steps and communication from the integration process. It makes your IdP the source of truth about who can access Aidin and prevents the implementation teams from having to bulk add your users.

If you cannot auto-provision users Aidin will need to bulk add your users for go-live.  Please see [Bulk User Upload](#bulk-user-upload). Admin users will have access to ongoing permissions management in the Aidin admin panel if auto-provision is not enabled.

#### **SAML Metadata Exchange Endpoints**

Your team can generate the appropriate metadata for Aidin using the following endpoints. Please note that this endpoint is specific to each IdP – if you have several SSO integrations to enable, you will need to complete this process for each. Ask your Aidin Solutions Engineer for these URLs:

* Sandbox: https://sandbox.myaidin.com/saml/\[idp-slug\]/metadata  
* Production: https://next.myaidin.com/saml/\[idp-slug\]/metadata

For more information about configuring Microsoft Entra for SAML 2 authentication, please see the Entra [documentation](https://learn.microsoft.com/en-us/entra/architecture/auth-saml). If you are not an Entra user, please consult your Authentication team.

#### **Mapping Group Membership to Aidin Roles**

The information about what facility a user has access to, and which role the user has is provided to the Aidin system by your IdP during login. Your Authentication team must configure groups in your IdP that represent these combinations of permissions. The IdP should be configured to present one or more of these groups using the ‘MemberOf’ attribute during the login process. 

Please use tab 2 of the accompanying worksheet to provide the list of group identifiers as well as the facilities and Aidin roles they should be associated with when you have confirmed configuration. Aidin will map these groups onto facilities and roles in our system, maintaining a membership group for each of your Identity Management team’s configured groups. 

User access is validated against all mapped membership groups at the start of each application session to stay synchronized with your IdP configurations. Any changes to location access, role level or email addresses (assuming you’ve provided a stable user ID other than email address) will be reflected in Aidin upon each user’s next login. If group memberships are enabled, Aidin locks down team member administration by admin end users in the application to ensure that your Identity Management team has sole control over user access and identity changes.

### **Aidin Launch Button**

Your care managers will need to launch the Aidin application from within your EHR via a custom “launch button” that starts the authentication process.  Your team will need to add a button that launches a browser session at a particular URL that initiates the Secure Token Service (STS) SAML authentication flow described above. This can be accomplished in one of several different ways depending on your EHR. [Appendix 2](#appendix-2:-procedures-for-epic-launch-button) provides guidance on how to implement the launch button in Epic.

### **ADT Feed**

All Aidin use cases require a standard “admission discharge transfer” (ADT) feed from your EHR. This feed provides the relevant patient information that Care Managers need to create referrals. 

#### **mTLS configuration**

The first step in setting up an ADT feed is establishing network connectivity between your EHR and the Aidin system. Aidin strongly prefers mTLS over virtual private networking (VPN). For more on why Aidin prefers mTLS, please ask for our whitepaper on the subject. Integrations that require VPN require additional set up steps and the ongoing services of network engineers on both sides.

Mutual TLS means that both Aidin and your system verify certificates before allowing a connection to be made.  Port numbers will vary by integration and should be agreed upon between your networking team and the Aidin Solutions Engineer. You will need to provide a certificate to the Aidin Solutions Engineer during setup.

Aidin also supports TLS 1.2+ integrations without mutual certificate verification. If this is your preferred mechanism, please provide the static IP from which we should expect your traffic.

#### **Configuring ADT**

Once initial connectivity is established by your Interface or Networking team the Aidin team will inspect the contents of your ADT messages. Questions will sometimes arise about which codes should be mapped to which facility, or which patient identifier is being sent. A meeting will generally be required to confirm these details.  Your team can make this process more efficient by accurately completing the ADT interface mapping tab of the accompanying workbook.

See [Appendix 3](#heading=h.o05mmiey8bix) for more information about setting up your ADT feed.

### **“Push” Document Retrieval**

Care Managers must send various documents from your EHR, and perhaps other sources, in order to complete a patient transition. EHR document retrieval can be complex and generally represents the most customizable part of Aidin set up. Some documents — typically patient “packets” — are created dynamically within your EHR, often making them inaccessible to standard FHIR-based integration methods. Other documents reside in third party platforms such as OnBase or SharePoint.  Finally, some documents can be retrieved via FHIR DocumentReference endpoints because they are statically associated with a given patient record.

Because of this dichotomy, document workflows can be either “push” or “pull”.  In a push integration, the user action to move the document into Aidin starts outside the Aidin application — typically, but not necessarily — when a user performs some action in the EHR.  Pull integrations, by contrast, start in the Aidin user interface, where a user selects documents to pull into Aidin from some external system (EHR/Onbase, etc.).  Push integrations do not require Aidin to have advance knowledge of the document, and thus are simpler to set up.  Pull integrations require FHIR access to list the available documents and as such, Aidin considers them non-essential. See “[Pull Document Retrieval](#“pull”-document-retrieval)” below.

#### **Pushing Documents to Aidin using Secure File Transfer (SFTP)**

The simplest possible push integration for documents — and one Aidin recommends setting up for every new integration — is Secure File Transfer Protocol.  SFTP is also the way that Aidin sends reporting data back for analytics (See Analytics Data Export below).  Establishing bi-directional SFTP data exchange early on in the integration provides a backup option for more complex document retrieval integrations. 

SFTP integration — both to and from Aidin, involves your team putting or retrieving a document from Aidin’s SFTP server. This is done with asymmetric SSH key pair authentication using the following endpoints and ports:

* Sandbox: sftp://sftp.sandbox.myaidin.com:22  
* Production: sftp://sftp.next.myaidin.com:22

Please generate four sets of SSH key pairs for each environment using the procedures in [Appendix 1](#appendix-1:-procedure-for-creating-ssh-key-pairs) and share **only** the public keys with the Aidin team (Aidin prefers separate key pairs for read and write operations in SFTP).  It is safe to email public key information.  Multiple public keys per environment can be supported at once for zero-downtime key rotation.

Once read/write key pairs have been generated for each environment and the public key shared with Aidin, the parties must decide whether optional IP whitelisting is required, and a connectivity test should be conducted using the Sandbox endpoints listed above.

##### **Configuring your EHR for Pushing to SFTP**

To use SFTP to send documents to Aidin, your Interface team will need to configure your EHR to allow it to either print or save the documents to the SFTP endpoint above upon some action in the EHR’s user interface.  In some cases, this may require consultation with your ClinDocs Team to identify which documents your Care Managers need to send to Aidin.  Epic’s “virtual printing” (EPRs) feature set exists for this purpose and should be considered.

During this stage, the Interface Team should also determine whether Aidin should match documents to patients using MRN, “enterprise MRN”, CSN or some other identifier. This information should be shared with your Aidin solutions engineer. If you need to send documents to Aidin that originate in some other system, SFTP is also an option to accomplish this goal.

The Aidin system automatically identifies, using an array of technologies depending on your commercial agreement, the patient and links it to the appropriate referral record as appropriate. See [Appendix 4](#appendix-4:-configuring-your-ehr-for-pushing-to-sftp) for details on how to prepare your documents for intake.

##### **Leverage your EHR’s fax function to deliver to SFTP** 

Some EHR systems provide built-in faxing capabilities that can be used to securely transmit documents to Aidin without requiring a direct SFTP or network-based interface. Aidin supports a configuration where documents faxed from an EHR are received by Aidin’s inbound fax service and automatically delivered to a configured SFTP server for processing within the established printer workflow in accordance to your commercial agreement. Aidin will provision a fax number that is specific for this workflow and will work with your IT or Communications team to configure this fax contact in your EHR. See [Appendix 4, Optional Setup: Print to Fax Delivery](#optional-setup:-print-to-fax-delivery).

##### **Additional Security Measures** 

While Aidin encrypts all data flowing through SFTP channels in transfer and at rest, your system may be storing documents in an insecure manner prior to initiating the SFTP transfer. If your documents are not being securely stored, or your system requires manually encrypting these files, Aidin offers a second layer of security in the form of GPG encryption. You can encrypt your files with Aidin’s public key prior to storing and sending them. For your convenience, we support both RSA and ed25519 strategies; choose whichever one suits your needs. See [Appendix 4](#appendix-4:-configuring-your-ehr-for-pushing-to-sftp) for the public PGP keys.

To note, this step is optional and should be unnecessary in most circumstances.

#### **Printing**

Documents can come from a variety of sources within and without the EHR and API retrieval may only work for certain document types in the EHR. As a result, some customers may prefer to use printing features to send documents to Aidin. Like SFTP, printing is a “push” workflow–users initiate the print job outside Aidin and then locate and work with the document in the Aidin UI.

Due to the wide variety of customer workstation setups, Aidin has several different print mechanisms. If your team has the capability to roll out IPP-based printing with user-level credentials via your workstation management suite, Aidin prefers that to installing a driver, as it means there is no Aidin software running on your network.  Your workstation team authors a deployment script that uses a preshared secret and the user’s email address to generate (using HMAC \+ SHA256) a set of basic or digest authentication credentials that identify the user who is printing to Aidin. Please see [Appendix 5](#appendix-5:-ipp-printer-without-installed-driver-application) for more information about setting up an IPP printer without the Aidin installer.

Some health systems install an Aidin-authored, installed Windows 10 print driver application that presents an authentication flow and then a simple user interface that allows the customer to select a patient with whom to identify the document. This driver application can be configured either to send Postscript files over HTTPS OR to use the operating system’s native support for Internet Printing Protocol (IPP), Microsoft’s preferred method for printing in Windows 11\.  For more information about this driver, please see [Appendix 6](#appendix-6:-“print-to-aidin”-installed-driver).

### **Analytics Data Export SFTP**

Aidin captures a large amount of data about how efficiently your care management team functions, how responsive your post-acute partners are, and the quality of their service. While we offer a reporting suite in the application, most customers prefer to capture this data incrementally in analytics-ready form for their own internal dashboards. Aidin uses SFTP to deliver this data to you.

By default, Aidin will send scheduled data extracts to the same SFTP endpoint that we have set up for inbound (push) documents, accessible by a separate user account. A unique SSH key will need to be generated \- see [Appendix 1](#appendix-1:-procedure-for-creating-ssh-key-pairs) for more.

If you prefer, Aidin can push raw analytics data to an SFTP server that you host instead.  You might decide to do this if you want to retain control over data retention.  If you prefer this option, you will need to share the location of your SFTP machine and install a user account with Aidin’s public key:

##### **Aidin’s Data Export Public Key**

```
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAINbzmQxcKpSfx86zo+lSYXYEa1uiGzWyaZ1z0RdaotGS
```

##### **Export Schedule**

Our data extracts are sent incrementally every morning (by 8am Eastern) as a CSV. Each file includes all rows that were updated on the previous day. You will need an ETL process to upsert (update or insert) new files into your data store to avoid duplicated data. Your exports will be stored in /reports/\<report\_name\>/\<file\_name\>.csv on the SFTP server, and if you are self-hosting you will need to instruct us where to place the files. The default filename for exports is:

```
{customer}-{report_name}-{report_schedule}-{report_date}-{run_start_epoch}.csv
```

**Note:** run\_start\_epoch is the Unix time the report was run and indicates the order in which files should be processed.

We will provide you with additional documentation describing the schema and field definitions for your data team to understand how to process and analyze your data.

### **Essential Integrations Checklist**

At this point in the integration process you have: 

1. Allowlisted all Aidin domains and/or IPs.  
2. Provided Aidin with the list of facilities and facility codes needed to support your health system.  
3. Configured at least one SSO solution with auto-provisioned users and groups to allow your users to log in with the appropriate roles and facility access.  
4. An Aidin Launch button in your EHR that kicks off the aforementioned SSO process.  
5. Tested logging in from the Aidin login page.  
6. Tested an ADT feed over mTLS or IP-allowlisted connections, which means you’re able to see patient records in the Aidin interface.  
7. Have configured bi-directional SFTP for pushing documents to Aidin from your EHR as receiving analytics data delivery.    
8. You’ve set up printing (if preferred). Ideally, you’ve also identified other supported ways of retrieving your documents into Aidin.

Congratulations\! If you’ve completed the above steps you’re ready to move on to additional Advanced integrations and populating the content of your Aidin installation.